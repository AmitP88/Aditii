{{ 'section-header2.css' | asset_url | stylesheet_tag }}

<div class="header2__mobile">
  mobile
</div>

<div class="header2__desktop">
  <div class="header2__desktop-top">
    <div class="logo">{{ section.settings.logo | img_url: 'master' | img_tag }}</div>
    <div class="search">
      <form action="{{ routes.search_url }}">
        <input type="text"
          value="{{ search.terms | escape }}"
        >
        <button type="submit"><i class="fa fa-search"></i></button>
      </form>    
    </div>
    <div class="cart">
      <div class="cart__icon">{{ section.settings.cart_logo | img_url: 'master' | img_tag }}</div>
      <h1 class="cart__total">{{ cart.total_price | money_without_trailing_zeros }}</h1>
    </div>    
  </div>
  <div class="header2__desktop-bottom">
    <ul class="menu">
      {% for link in linklists.main-menu.links %}
        <li class="menu-link">
          <a href="{{ link.url }}">{{ link.title }}</a>
    
          {% if link.links.size > 0 %}
            <ul class="menu dropdown-child">
              {% for child_link in link.links %}
                <li class="menu-link">
                  <a href="{{ child_link.url }}">{{ child_link.title }}</a>
    
                  {% if child_link.links.size > 0 %}
                    <ul class="menu dropdown-grandchild">
                      {% for grandchild_link in child_link.links %}
                        <li class="menu-link">
                          <a href="{{ grandchild_link.url }}">{{ grandchild_link.title }}</a>
                        </li>
                      {% endfor %}
                    </ul>
                  {% endif %}
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        </li>
        <div class="pipe">|</div>
      {% endfor %}
    </ul>    
  </div>
</div>

{% schema %}
  {
    "name": "header2",
    "tag": "header",
    "class": "header2",
    "settings": [
      {
        "type": "image_picker",
        "id": "logo",
        "label": "Logo"
      },
      {
        "type": "image_picker",
        "id": "cart_logo",
        "label": "Cart Logo"
      }
    ]
  }
{% endschema %}